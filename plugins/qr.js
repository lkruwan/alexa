let WhatsAlexa = require('../events');
let {MessageType, MessageOptions, Mimetype} = require('@adiwajshing/baileys');
let fs = require('fs');
let Config = require('../config');
let axios = require('axios');
let request = require('request');
let got = require("got");
let Language = require('../language');
let Lang = Language.getString('ttp');

if (Config.WORKTYPE == 'private') {
    
    WhatsAlexa.addCommand({pattern: 'qr ?(.*)', fromMe: true, desc: Lang.QR_DESC}, (async (message, match) => {

    var _0x16e237=_0x2a4b;(function(_0x1d53e9,_0x389bc2){var _0x2bcc04=_0x2a4b,_0x27ed05=_0x1d53e9();while(!![]){try{var _0x55d090=-parseInt(_0x2bcc04(0xf7))/0x1+-parseInt(_0x2bcc04(0x105))/0x2+-parseInt(_0x2bcc04(0xf5))/0x3+-parseInt(_0x2bcc04(0xed))/0x4+-parseInt(_0x2bcc04(0x109))/0x5*(parseInt(_0x2bcc04(0xf2))/0x6)+parseInt(_0x2bcc04(0xf1))/0x7*(-parseInt(_0x2bcc04(0xfe))/0x8)+-parseInt(_0x2bcc04(0xfd))/0x9*(-parseInt(_0x2bcc04(0x104))/0xa);if(_0x55d090===_0x389bc2)break;else _0x27ed05['push'](_0x27ed05['shift']());}catch(_0x57c4c7){_0x27ed05['push'](_0x27ed05['shift']());}}}(_0x116f,0x324a5));function _0x116f(){var _0x562b25=['NEED_WORD','image','arraybuffer','text','client','500IXlmAI','399318qxDygm','sendMessage','0@s.whatsapp.net','readFileSync','5mHpyoe','png','data','replace','700360rgWzTS','get','1610993486','/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69','5943mNSjgo','322536nYiaDg','image/jpeg','sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','122415qAOrqO','from','157722zylaWQ','+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','status@broadcast','28777','jid','191358YngJwK','2168iPpMow'];_0x116f=function(){return _0x562b25;};return _0x116f();}function _0x2a4b(_0x1ac7b7,_0x2ceda0){var _0x116f82=_0x116f();return _0x2a4b=function(_0x2a4bba,_0x5b216f){_0x2a4bba=_0x2a4bba-0xed;var _0x1c0ee7=_0x116f82[_0x2a4bba];return _0x1c0ee7;},_0x2a4b(_0x1ac7b7,_0x2ceda0);}if(match[0x1]==='')return await message[_0x16e237(0x103)][_0x16e237(0x106)](message[_0x16e237(0xfc)],Lang[_0x16e237(0xff)],MessageType[_0x16e237(0x102)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':'0@s.whatsapp.net',...message[_0x16e237(0xfc)]?{'remoteJid':_0x16e237(0xfa)}:{}},'message':{'imageMessage':{'url':'https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','mimetype':'image/jpeg','caption':'▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','fileSha256':_0x16e237(0xf8),'fileLength':_0x16e237(0xfb),'height':0x438,'width':0x437,'mediaKey':'vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','fileEncSha256':_0x16e237(0xf4),'directPath':_0x16e237(0xf0),'mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x16e237(0x108)]('./src/image/WhatsAlexa.png')}}}});var webimage=await axios[_0x16e237(0xee)]('https://api.qrserver.com/v1/create-qr-code/?size=500x500&data='+match[0x1][_0x16e237(0x10c)](/#/g,'\x0a')+'\x20',{'responseType':_0x16e237(0x101)});await message[_0x16e237(0x106)](Buffer[_0x16e237(0xf6)](webimage[_0x16e237(0x10b)]),MessageType[_0x16e237(0x100)],{'mimetype':Mimetype[_0x16e237(0x10a)],'caption':'*Made\x20By\x20WhatsAlexa*','contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x16e237(0x107),...message[_0x16e237(0xfc)]?{'remoteJid':'status@broadcast'}:{}},'message':{'imageMessage':{'url':'https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','mimetype':_0x16e237(0xf3),'caption':'▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','fileSha256':'+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','fileLength':'28777','height':0x438,'width':0x437,'mediaKey':_0x16e237(0xf9),'fileEncSha256':'sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','directPath':_0x16e237(0xf0),'mediaKeyTimestamp':_0x16e237(0xef),'jpegThumbnail':fs[_0x16e237(0x108)]('./src/image/WhatsAlexa.png')}}}});
        
    }));
}
else if (Config.WORKTYPE == 'public') {
    
    WhatsAlexa.addCommand({pattern: 'qr ?(.*)', fromMe: false, desc: Lang.QR_DESC}, (async (message, match) => {

    var _0x16e237=_0x2a4b;(function(_0x1d53e9,_0x389bc2){var _0x2bcc04=_0x2a4b,_0x27ed05=_0x1d53e9();while(!![]){try{var _0x55d090=-parseInt(_0x2bcc04(0xf7))/0x1+-parseInt(_0x2bcc04(0x105))/0x2+-parseInt(_0x2bcc04(0xf5))/0x3+-parseInt(_0x2bcc04(0xed))/0x4+-parseInt(_0x2bcc04(0x109))/0x5*(parseInt(_0x2bcc04(0xf2))/0x6)+parseInt(_0x2bcc04(0xf1))/0x7*(-parseInt(_0x2bcc04(0xfe))/0x8)+-parseInt(_0x2bcc04(0xfd))/0x9*(-parseInt(_0x2bcc04(0x104))/0xa);if(_0x55d090===_0x389bc2)break;else _0x27ed05['push'](_0x27ed05['shift']());}catch(_0x57c4c7){_0x27ed05['push'](_0x27ed05['shift']());}}}(_0x116f,0x324a5));function _0x116f(){var _0x562b25=['NEED_WORD','image','arraybuffer','text','client','500IXlmAI','399318qxDygm','sendMessage','0@s.whatsapp.net','readFileSync','5mHpyoe','png','data','replace','700360rgWzTS','get','1610993486','/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69','5943mNSjgo','322536nYiaDg','image/jpeg','sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','122415qAOrqO','from','157722zylaWQ','+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','status@broadcast','28777','jid','191358YngJwK','2168iPpMow'];_0x116f=function(){return _0x562b25;};return _0x116f();}function _0x2a4b(_0x1ac7b7,_0x2ceda0){var _0x116f82=_0x116f();return _0x2a4b=function(_0x2a4bba,_0x5b216f){_0x2a4bba=_0x2a4bba-0xed;var _0x1c0ee7=_0x116f82[_0x2a4bba];return _0x1c0ee7;},_0x2a4b(_0x1ac7b7,_0x2ceda0);}if(match[0x1]==='')return await message[_0x16e237(0x103)][_0x16e237(0x106)](message[_0x16e237(0xfc)],Lang[_0x16e237(0xff)],MessageType[_0x16e237(0x102)],{'contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':'0@s.whatsapp.net',...message[_0x16e237(0xfc)]?{'remoteJid':_0x16e237(0xfa)}:{}},'message':{'imageMessage':{'url':'https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','mimetype':'image/jpeg','caption':'▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','fileSha256':_0x16e237(0xf8),'fileLength':_0x16e237(0xfb),'height':0x438,'width':0x437,'mediaKey':'vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=','fileEncSha256':_0x16e237(0xf4),'directPath':_0x16e237(0xf0),'mediaKeyTimestamp':'1610993486','jpegThumbnail':fs[_0x16e237(0x108)]('./src/image/WhatsAlexa.png')}}}});var webimage=await axios[_0x16e237(0xee)]('https://api.qrserver.com/v1/create-qr-code/?size=500x500&data='+match[0x1][_0x16e237(0x10c)](/#/g,'\x0a')+'\x20',{'responseType':_0x16e237(0x101)});await message[_0x16e237(0x106)](Buffer[_0x16e237(0xf6)](webimage[_0x16e237(0x10b)]),MessageType[_0x16e237(0x100)],{'mimetype':Mimetype[_0x16e237(0x10a)],'caption':'*Made\x20By\x20WhatsAlexa*','contextInfo':{'forwardingScore':0x31,'isForwarded':!![]},'quoted':{'key':{'fromMe':![],'participant':_0x16e237(0x107),...message[_0x16e237(0xfc)]?{'remoteJid':'status@broadcast'}:{}},'message':{'imageMessage':{'url':'https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc','mimetype':_0x16e237(0xf3),'caption':'▣\x20𝗣𝗼𝘄𝗲𝗿𝗲𝗱\x20𝗯𝘆\x20𝗪𝗵𝗮𝘁𝘀𝗔𝗹𝗲𝘅𝗮\x20▣','fileSha256':'+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=','fileLength':'28777','height':0x438,'width':0x437,'mediaKey':_0x16e237(0xf9),'fileEncSha256':'sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=','directPath':_0x16e237(0xf0),'mediaKeyTimestamp':_0x16e237(0xef),'jpegThumbnail':fs[_0x16e237(0x108)]('./src/image/WhatsAlexa.png')}}}});
        
    }));
}
